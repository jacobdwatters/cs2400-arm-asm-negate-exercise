# ARM Assembly Negate Exercise

MSUD, CS 2400, Spring 2019

## Requirements

### Preliminaries
1. Download and install [VisUAL](https://salmanarif.bitbucket.io/visual/downloads.html).
2. Find out what UAL means in the context of ARM syntax.
3. Review the instructions supported by VisUAL.

### Quick negate
1. Load the [short negate program](https://github.com/ivogeorg/cs2400-arm-asm-negate-exercise/blob/master/negate.S) into VisUAL (Use **Open** from the menu).
2. Execute the program. View the memory. (Use **Tools** from the menu.)
3. **QUESTION:** What does the program do?
    The Program takes the absolute value of each integer in the array.
4. Single-step the program and watch the registers, memory locations, and status flags change.

### Long negate
1. Load the [long negate program](https://github.com/ivogeorg/cs2400-arm-asm-negate-exercise/blob/master/negate_gcc_8_2.S) into VisUAL (Use **Open** from the menu).
2. Execute the program. View the memory. (Use **Tools** from the menu.)
3. Answer the following questions:
   1. **QUESTION 1:** What is the short program doing that the long program is not?
    The short program has a conditional on the reverssubtract command. the long program checks if a number is negative then goes to the negate subroutine. 
   2. **QUESTION 2:** Why do you think the compiler has generated such assembly code?
    The compiler has to handel a wide range of prgrams and handle them generaly. The compiler is also built to work on large pices of code, that is organized with all the lables/subrotiens. 
   3. **QUESTION 3:** How would you try to change the code so that the compiler would generate an assembly program that behaves more like the short one above? The original code is in [`negate.c`](https://github.com/ivogeorg/cs2400-arm-asm-negate-exercise/blob/master/negate.c). Modify it and see if that changes the generated code. (The code is generated in the [Compiler Explorer](https://godbolt.org). Use the **ARM gcc 8.2** compiler. Use the following compiler options: `-fomit-frame-pointer -mcpu=cortex-m3 -mtune=cortex-m3`. *Note: The assembly generated by the Compiler Explorer cannot be run directly in VisUAL. You might want to check the differences between the original generated code and the long negate program to see what modifications you have make.*)
   To simplify the long program, you could take the code from the negate function and put it into the if statment. I also made the main method static, and the array variable static. 
4. Single-step the program and watch the registers, memory locations, and status flags change.
5. Modify the long program to do what the short one is doing.

### Submission
1. Fork this repository.
2. Clone and develop.
3. Commit your changes and push to the remote.
4. Submit your fork's URL on the Google Classroom assignment **CS 2400 - Classwork - ARM assembly negate exercise**.
